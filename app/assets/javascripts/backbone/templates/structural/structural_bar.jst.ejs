<!-- TODO: Figure out how we're getting info from the router
     to set the selected classes on our navigation buttons. -->

<div class="tabs stb-group pull-left">
  <a href="<%= Structural.Router.indexHref() %>" class="stb-link stb-selected">
    <i class="stb-icon icon-comment"></i>
    <span class="stb-link-text">Water Cooler</span>
  </a>

  <a href="<%= Structural.Router.peopleHref() %>" class="stb-link">
    <i class="stb-icon icon-group"></i>
    <span class="stb-link-text">People</span>
  </a>

  <!-- Note that since this is all on the client, sufficiently
       savvy users will be able to read this template and
       find out about the admin route.  However, our server-
       side checks should prevent them from seeing any of the
       admin data. -->
  <!-- Note to sufficiently savvy users: please don't make me
       regret typing that. -->

  <% if(user.get('site_admin')) { %>
    <a href="<%= Structural.Router.adminHref() %>" class="stb-link">
      <i class="stb-icon icon-dashboard"></i>
      <span class="stb-link-text">Admin</span>
    </a>
    <!-- This isn't a real app link so it doesn't get a router function. -->
    <a href="/ux/testbed" class="stb-link">
      <i class="stb-icon icon-fighter-jet icon-rotate-270"></i>
      <span class="stb-link-text">UX Testbed</span>
    </a>
  <% } %>
</div>

<div class="stb-group pull-right">
  <span class='popover-wrap'>
    <a class="stb-link wc-news-toggle" title="Water Cooler News">
      <i class="stb-icon icon-bullhorn"></i>
    </a>
    <div class='wc-news-popover popover hidden'>
      <div class='header'>Water Cooler News</div>
      <div class='popover-content'>
        <div class='divider'>
          <span class='right'>October</span>
          <span class='left' title="Chrome Notifier">Folders</span>
        </div>
        <div class='section'>
          <div class='item'>
            <p>Folders are now working.  You can create, delete and share folders with other Water Cooler Users.</p>
          </div>
        </div>
        <div class='divider'>
          <span class='right'>September</span>
          <span class='left' title="Chrome Notifier">Chrome Notifier</span>
        </div>
        <div class='section'>
          <div class='item'>
            <p><a href="https://chrome.google.com/webstore/detail/water-cooler/iojmggbopjbgmkhceojpkdlkjndpfpbb" target="_blank">Chrome Notifier</a></p>
            <p>Mr. Ben Jones built a barebones chrome extension that puts your unread conversation count in your chrome toolbar.</p>
          </div>
        </div>
      </div>
    </div>
  </span>

  <span class='stb-name'>
    <span class="stb-name-text"><%= user.escape('name') %></span>
  </span>
  <a href="<%= Structural.Router.profileHref() %>" class="stb-link" title="Settings">
    <i class="stb-icon icon-user"></i>
  </a>
  <a href="<%= Structural.Router.logoutHref() %>" class="stb-link" title="Sign Out">
    <i class="stb-icon icon-signout"></i>
  </a>
</div>

